require('ts-node').register();

// Locale files extracted from Angular master.
// Three locales are commented out as these are manually checked-in
// after the tool rewrite to avoid breaking changes. The tool does not
// generate these anymore.
const locales = [
    "af-NA.ts",
    "af.ts",
    "agq.ts",
    "ak.ts",
    "am.ts",
    "ar-AE.ts",
    "ar-BH.ts",
    "ar-DJ.ts",
    "ar-DZ.ts",
    "ar-EG.ts",
    "ar-EH.ts",
    "ar-ER.ts",
    "ar-IL.ts",
    "ar-IQ.ts",
    "ar-JO.ts",
    "ar-KM.ts",
    "ar-KW.ts",
    "ar-LB.ts",
    "ar-LY.ts",
    "ar-MA.ts",
    "ar-MR.ts",
    "ar-OM.ts",
    "ar-PS.ts",
    "ar-QA.ts",
    "ar-SA.ts",
    "ar-SD.ts",
    "ar-SO.ts",
    "ar-SS.ts",
    "ar-SY.ts",
    "ar-TD.ts",
    "ar-TN.ts",
    "ar-YE.ts",
    "ar.ts",
    "as.ts",
    "asa.ts",
    "ast.ts",
    "az-Cyrl.ts",
    "az-Latn.ts",
    "az.ts",
    "bas.ts",
    "be.ts",
    "bem.ts",
    "bez.ts",
    "bg.ts",
    "bm.ts",
    "bn-IN.ts",
    "bn.ts",
    "bo-IN.ts",
    "bo.ts",
    "br.ts",
    "brx.ts",
    "bs-Cyrl.ts",
    "bs-Latn.ts",
    "bs.ts",
    "ca-AD.ts",
    "ca-ES-VALENCIA.ts",
    "ca-FR.ts",
    "ca-IT.ts",
    "ca.ts",
    "ccp-IN.ts",
    "ccp.ts",
    "ce.ts",
    "ceb.ts",
    "cgg.ts",
    "chr.ts",
    "ckb-IR.ts",
    "ckb.ts",
    "cs.ts",
    "cu.ts",
    "cy.ts",
    "da-GL.ts",
    "da.ts",
    "dav.ts",
    "de-AT.ts",
    "de-BE.ts",
    "de-CH.ts",
    "de-IT.ts",
    "de-LI.ts",
    "de-LU.ts",
    "de.ts",
    "dje.ts",
    "dsb.ts",
    "dua.ts",
    "dyo.ts",
    "dz.ts",
    "ebu.ts",
    "ee-TG.ts",
    "ee.ts",
    "el-CY.ts",
    "el.ts",
    "en-001.ts",
    "en-150.ts",
    "en-AE.ts",
    "en-AG.ts",
    "en-AI.ts",
    "en-AS.ts",
    "en-AT.ts",
    "en-AU.ts",
    "en-BB.ts",
    "en-BE.ts",
    "en-BI.ts",
    "en-BM.ts",
    "en-BS.ts",
    "en-BW.ts",
    "en-BZ.ts",
    "en-CA.ts",
    "en-CC.ts",
    "en-CH.ts",
    "en-CK.ts",
    "en-CM.ts",
    "en-CX.ts",
    "en-CY.ts",
    "en-DE.ts",
    "en-DG.ts",
    "en-DK.ts",
    "en-DM.ts",
    "en-ER.ts",
    "en-FI.ts",
    "en-FJ.ts",
    "en-FK.ts",
    "en-FM.ts",
    "en-GB.ts",
    "en-GD.ts",
    "en-GG.ts",
    "en-GH.ts",
    "en-GI.ts",
    "en-GM.ts",
    "en-GU.ts",
    "en-GY.ts",
    "en-HK.ts",
    "en-IE.ts",
    "en-IL.ts",
    "en-IM.ts",
    "en-IN.ts",
    "en-IO.ts",
    "en-JE.ts",
    "en-JM.ts",
    "en-KE.ts",
    "en-KI.ts",
    "en-KN.ts",
    "en-KY.ts",
    "en-LC.ts",
    "en-LR.ts",
    "en-LS.ts",
    "en-MG.ts",
    "en-MH.ts",
    "en-MO.ts",
    "en-MP.ts",
    "en-MS.ts",
    "en-MT.ts",
    "en-MU.ts",
    "en-MW.ts",
    "en-MY.ts",
    "en-NA.ts",
    "en-NF.ts",
    "en-NG.ts",
    "en-NL.ts",
    "en-NR.ts",
    "en-NU.ts",
    "en-NZ.ts",
    "en-PG.ts",
    "en-PH.ts",
    "en-PK.ts",
    "en-PN.ts",
    "en-PR.ts",
    "en-PW.ts",
    "en-RW.ts",
    "en-SB.ts",
    "en-SC.ts",
    "en-SD.ts",
    "en-SE.ts",
    "en-SG.ts",
    "en-SH.ts",
    "en-SI.ts",
    "en-SL.ts",
    "en-SS.ts",
    "en-SX.ts",
    "en-SZ.ts",
    "en-TC.ts",
    "en-TK.ts",
    "en-TO.ts",
    "en-TT.ts",
    "en-TV.ts",
    "en-TZ.ts",
    "en-UG.ts",
    "en-UM.ts",
    "en-US-POSIX.ts",
    "en-VC.ts",
    "en-VG.ts",
    "en-VI.ts",
    "en-VU.ts",
    "en-WS.ts",
    "en-ZA.ts",
    "en-ZM.ts",
    "en-ZW.ts",
    "en.ts",
    "eo.ts",
    "es-419.ts",
    "es-AR.ts",
    "es-BO.ts",
    "es-BR.ts",
    "es-BZ.ts",
    "es-CL.ts",
    "es-CO.ts",
    "es-CR.ts",
    "es-CU.ts",
    "es-DO.ts",
    "es-EA.ts",
    "es-EC.ts",
    "es-GQ.ts",
    "es-GT.ts",
    "es-HN.ts",
    "es-IC.ts",
    "es-MX.ts",
    "es-NI.ts",
    "es-PA.ts",
    "es-PE.ts",
    "es-PH.ts",
    "es-PR.ts",
    "es-PY.ts",
    "es-SV.ts",
    "es-US.ts",
    "es-UY.ts",
    "es-VE.ts",
    "es.ts",
    "et.ts",
    "eu.ts",
    "ewo.ts",
    "fa-AF.ts",
    "fa.ts",
 //   "ff-CM.ts",
 //   "ff-GN.ts",
    "ff-Latn-BF.ts",
    "ff-Latn-CM.ts",
    "ff-Latn-GH.ts",
    "ff-Latn-GM.ts",
    "ff-Latn-GN.ts",
    "ff-Latn-GW.ts",
    "ff-Latn-LR.ts",
    "ff-Latn-MR.ts",
    "ff-Latn-NE.ts",
    "ff-Latn-NG.ts",
    "ff-Latn-SL.ts",
    "ff-Latn.ts",
  //  "ff-MR.ts",
    "ff.ts",
    "fi.ts",
    "fil.ts",
    "fo-DK.ts",
    "fo.ts",
    "fr-BE.ts",
    "fr-BF.ts",
    "fr-BI.ts",
    "fr-BJ.ts",
    "fr-BL.ts",
    "fr-CA.ts",
    "fr-CD.ts",
    "fr-CF.ts",
    "fr-CG.ts",
    "fr-CH.ts",
    "fr-CI.ts",
    "fr-CM.ts",
    "fr-DJ.ts",
    "fr-DZ.ts",
    "fr-GA.ts",
    "fr-GF.ts",
    "fr-GN.ts",
    "fr-GP.ts",
    "fr-GQ.ts",
    "fr-HT.ts",
    "fr-KM.ts",
    "fr-LU.ts",
    "fr-MA.ts",
    "fr-MC.ts",
    "fr-MF.ts",
    "fr-MG.ts",
    "fr-ML.ts",
    "fr-MQ.ts",
    "fr-MR.ts",
    "fr-MU.ts",
    "fr-NC.ts",
    "fr-NE.ts",
    "fr-PF.ts",
    "fr-PM.ts",
    "fr-RE.ts",
    "fr-RW.ts",
    "fr-SC.ts",
    "fr-SN.ts",
    "fr-SY.ts",
    "fr-TD.ts",
    "fr-TG.ts",
    "fr-TN.ts",
    "fr-VU.ts",
    "fr-WF.ts",
    "fr-YT.ts",
    "fr.ts",
    "fur.ts",
    "fy.ts",
    "ga-GB.ts",
    "ga.ts",
    "gd.ts",
    "gl.ts",
    "gsw-FR.ts",
    "gsw-LI.ts",
    "gsw.ts",
    "gu.ts",
    "guz.ts",
    "gv.ts",
    "ha-GH.ts",
    "ha-NE.ts",
    "ha.ts",
    "haw.ts",
    "he.ts",
    "hi.ts",
    "hr-BA.ts",
    "hr.ts",
    "hsb.ts",
    "hu.ts",
    "hy.ts",
    "ia.ts",
    "id.ts",
    "ig.ts",
    "ii.ts",
    "is.ts",
    "it-CH.ts",
    "it-SM.ts",
    "it-VA.ts",
    "it.ts",
    "ja.ts",
    "jgo.ts",
    "jmc.ts",
    "jv.ts",
    "ka.ts",
    "kab.ts",
    "kam.ts",
    "kde.ts",
    "kea.ts",
    "khq.ts",
    "ki.ts",
    "kk.ts",
    "kkj.ts",
    "kl.ts",
    "kln.ts",
    "km.ts",
    "kn.ts",
    "ko-KP.ts",
    "ko.ts",
    "kok.ts",
    "ks.ts",
    "ksb.ts",
    "ksf.ts",
    "ksh.ts",
    "ku.ts",
    "kw.ts",
    "ky.ts",
    "lag.ts",
    "lb.ts",
    "lg.ts",
    "lkt.ts",
    "ln-AO.ts",
    "ln-CF.ts",
    "ln-CG.ts",
    "ln.ts",
    "lo.ts",
    "lrc-IQ.ts",
    "lrc.ts",
    "lt.ts",
    "lu.ts",
    "luo.ts",
    "luy.ts",
    "lv.ts",
    "mas-TZ.ts",
    "mas.ts",
    "mer.ts",
    "mfe.ts",
    "mg.ts",
    "mgh.ts",
    "mgo.ts",
    "mi.ts",
    "mk.ts",
    "ml.ts",
    "mn.ts",
    "mr.ts",
    "ms-BN.ts",
    "ms-SG.ts",
    "ms.ts",
    "mt.ts",
    "mua.ts",
    "my.ts",
    "mzn.ts",
    "naq.ts",
    "nb-SJ.ts",
    "nb.ts",
    "nd.ts",
    "nds-NL.ts",
    "nds.ts",
    "ne-IN.ts",
    "ne.ts",
    "nl-AW.ts",
    "nl-BE.ts",
    "nl-BQ.ts",
    "nl-CW.ts",
    "nl-SR.ts",
    "nl-SX.ts",
    "nl.ts",
    "nmg.ts",
    "nn.ts",
    "nnh.ts",
    "nus.ts",
    "nyn.ts",
    "om-KE.ts",
    "om.ts",
    "or.ts",
    "os-RU.ts",
    "os.ts",
    "pa-Arab.ts",
    "pa-Guru.ts",
    "pa.ts",
    "pl.ts",
    "prg.ts",
    "ps-PK.ts",
    "ps.ts",
    "pt-AO.ts",
    "pt-CH.ts",
    "pt-CV.ts",
    "pt-GQ.ts",
    "pt-GW.ts",
    "pt-LU.ts",
    "pt-MO.ts",
    "pt-MZ.ts",
    "pt-PT.ts",
    "pt-ST.ts",
    "pt-TL.ts",
    "pt.ts",
    "qu-BO.ts",
    "qu-EC.ts",
    "qu.ts",
    "rm.ts",
    "rn.ts",
    "ro-MD.ts",
    "ro.ts",
    "rof.ts",
    "root.ts",
    "ru-BY.ts",
    "ru-KG.ts",
    "ru-KZ.ts",
    "ru-MD.ts",
    "ru-UA.ts",
    "ru.ts",
    "rw.ts",
    "rwk.ts",
    "sah.ts",
    "saq.ts",
    "sbp.ts",
    "sd.ts",
    "se-FI.ts",
    "se-SE.ts",
    "se.ts",
    "seh.ts",
    "ses.ts",
    "sg.ts",
    "shi-Latn.ts",
    "shi-Tfng.ts",
    "shi.ts",
    "si.ts",
    "sk.ts",
    "sl.ts",
    "smn.ts",
    "sn.ts",
    "so-DJ.ts",
    "so-ET.ts",
    "so-KE.ts",
    "so.ts",
    "sq-MK.ts",
    "sq-XK.ts",
    "sq.ts",
    "sr-Cyrl-BA.ts",
    "sr-Cyrl-ME.ts",
    "sr-Cyrl-XK.ts",
    "sr-Cyrl.ts",
    "sr-Latn-BA.ts",
    "sr-Latn-ME.ts",
    "sr-Latn-XK.ts",
    "sr-Latn.ts",
    "sr.ts",
    "sv-AX.ts",
    "sv-FI.ts",
    "sv.ts",
    "sw-CD.ts",
    "sw-KE.ts",
    "sw-UG.ts",
    "sw.ts",
    "ta-LK.ts",
    "ta-MY.ts",
    "ta-SG.ts",
    "ta.ts",
    "te.ts",
    "teo-KE.ts",
    "teo.ts",
    "tg.ts",
    "th.ts",
    "ti-ER.ts",
    "ti.ts",
    "tk.ts",
    "to.ts",
    "tr-CY.ts",
    "tr.ts",
    "tt.ts",
    "twq.ts",
    "tzm.ts",
    "ug.ts",
    "uk.ts",
    "ur-IN.ts",
    "ur.ts",
    "uz-Arab.ts",
    "uz-Cyrl.ts",
    "uz-Latn.ts",
    "uz.ts",
    "vai-Latn.ts",
    "vai-Vaii.ts",
    "vai.ts",
    "vi.ts",
    "vo.ts",
    "vun.ts",
    "wae.ts",
    "wo.ts",
    "xh.ts",
    "xog.ts",
    "yav.ts",
    "yi.ts",
    "yo-BJ.ts",
    "yo.ts",
    "yue-Hans.ts",
    "yue-Hant.ts",
    "yue.ts",
    "zgh.ts",
    "zh-Hans-HK.ts",
    "zh-Hans-MO.ts",
    "zh-Hans-SG.ts",
    "zh-Hans.ts",
    "zh-Hant-HK.ts",
    "zh-Hant-MO.ts",
    "zh-Hant.ts",
    "zh.ts",
    "zu.ts"
];

locales.forEach(localeBasename => {
    const nonExtName = localeBasename.split('.')[0];
    const oldData = require('./old/' + localeBasename);
    const newData = require('./new/' + localeBasename);

    if (!equal(oldData.default, newData.default)) {
        console.error('Failed:' , localeBasename);
    }

    const oldGlobalData = require('./old/global/' + nonExtName + '.js');
    const newGlobalData = require('./new/global/' + nonExtName + '.js');

    if (!equal(oldGlobalData.default, newGlobalData.default)) {
        console.error('Failed global:' , localeBasename);
    }

    const oldExtraData = require('./old/extra/' + localeBasename);
    const newExtraData = require('./new/extra/' + localeBasename);

    if (!equal(oldExtraData.default, newExtraData.default)) {
        console.error('Failed global:' , localeBasename);
    }
});

function equal(a, b) {
    return JSON.stringify(a) === JSON.stringify(b);
}
